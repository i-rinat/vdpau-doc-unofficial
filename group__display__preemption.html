<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>VDPAU: Display Preemption</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">VDPAU
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="vdpau-doc-1.1.1.pdf"><span>PDF&#160;version</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">Display Preemption<div class="ingroups"><a class="el" href="group__api__core.html">Core API</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Display Preemption:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__display__preemption.png" border="0" alt="" usemap="#group____display____preemption"/>
<map name="group____display____preemption" id="group____display____preemption">
<area shape="rect" id="node1" href="group__api__core.html" title="Core API" alt="" coords="5,5,81,32"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaca7b9a4287ec7fac994af1f72ff9b50b"><td class="memItemLeft" align="right" valign="top">typedef void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__display__preemption.html#gaca7b9a4287ec7fac994af1f72ff9b50b">VdpPreemptionCallback</a>(<a class="el" href="group___vdp_device.html#gae7abc48cf32de14e4c8f249bf06e1605">VdpDevice</a> device, void *context)</td></tr>
<tr class="memdesc:gaca7b9a4287ec7fac994af1f72ff9b50b"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback to notify the client application that a device's display has been preempted.  <a href="#gaca7b9a4287ec7fac994af1f72ff9b50b">More...</a><br /></td></tr>
<tr class="separator:gaca7b9a4287ec7fac994af1f72ff9b50b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga89ea7b994b4df50e0a1f0317b824173a"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="group__error__handling.html#ga7fa6c302213052e531b20bab723e5778">VdpStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__display__preemption.html#ga89ea7b994b4df50e0a1f0317b824173a">VdpPreemptionCallbackRegister</a>(<a class="el" href="group___vdp_device.html#gae7abc48cf32de14e4c8f249bf06e1605">VdpDevice</a> device, <a class="el" href="group__display__preemption.html#gaca7b9a4287ec7fac994af1f72ff9b50b">VdpPreemptionCallback</a> callback, void *context)</td></tr>
<tr class="memdesc:ga89ea7b994b4df50e0a1f0317b824173a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the display preemption callback.  <a href="#ga89ea7b994b4df50e0a1f0317b824173a">More...</a><br /></td></tr>
<tr class="separator:ga89ea7b994b4df50e0a1f0317b824173a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The Window System may operate within a frame-work (such as Linux's VT switching) where the display is shared between the Window System (e.g. X) and some other output mechanism (e.g. the VT.) Given this scenario, the Window System's control of the display could be preempted, and restored, at any time.</p>
<p>VDPAU does not mandate that implementations hide such preemptions from VDPAU client applications; doing so may impose extreme burdens upon VDPAU implementations. Equally, however, implementations are free to hide such preemptions from client applications.</p>
<p>VDPAU allows implementations to inform the client application when such a preemption has occurred, and then refuse to continue further operation.</p>
<p>Similarly, some form of fatal hardware error could prevent further operation of the VDPAU implementation, without a complete re-initialization.</p>
<p>The following discusses the behavior of implementations that choose not to hide preemption from client applications.</p>
<p>When preemption occurs, VDPAU internally destroys all objects; the client application need not do this. However, if the client application wishes to continue operation, it must recreate all objects that it uses. It is probable that this recreation will not succeed until the display ownership is restored to the Window System.</p>
<p>Once preemption has occurred, all VDPAU entry points will return the specific error code <a class="el" href="group__error__handling.html#gga7fa6c302213052e531b20bab723e5778a0cf5c2d58620b48b119d951918f8abee">VDP_STATUS_DISPLAY_PREEMPTED</a>.</p>
<p>VDPAU client applications may also be notified of such preemptions and fatal errors via a callback. See <a class="el" href="group__display__preemption.html#ga89ea7b994b4df50e0a1f0317b824173a">VdpPreemptionCallbackRegister</a> for more details. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="gaca7b9a4287ec7fac994af1f72ff9b50b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void VdpPreemptionCallback(<a class="el" href="group___vdp_device.html#gae7abc48cf32de14e4c8f249bf06e1605">VdpDevice</a> device, void *context)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback to notify the client application that a device's display has been preempted. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>The device that had its display preempted. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The client-supplied callback context information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void No return value </dd></dl>

</div>
</div>
<a class="anchor" id="ga89ea7b994b4df50e0a1f0317b824173a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="group__error__handling.html#ga7fa6c302213052e531b20bab723e5778">VdpStatus</a> VdpPreemptionCallbackRegister(<a class="el" href="group___vdp_device.html#gae7abc48cf32de14e4c8f249bf06e1605">VdpDevice</a> device, <a class="el" href="group__display__preemption.html#gaca7b9a4287ec7fac994af1f72ff9b50b">VdpPreemptionCallback</a> callback, void *context)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the display preemption callback. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">device</td><td>The device to be monitored for preemption. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">callback</td><td>The client application's callback function. If NULL, the callback is unregistered. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">context</td><td>The client-supplied callback context information. This information will be passed to the callback function if/when invoked. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>VdpStatus The completion status of the operation. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
